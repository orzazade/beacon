<div align="center">

# Beacon

### Your Work, One Glance Away

[![macOS](https://img.shields.io/badge/macOS-14+-000000?logo=apple&logoColor=white)](https://www.apple.com/macos/)
[![Swift](https://img.shields.io/badge/Swift-5.9-F05138?logo=swift&logoColor=white)](https://swift.org/)
[![SwiftUI](https://img.shields.io/badge/SwiftUI-Native-007AFF?logo=swift&logoColor=white)](https://developer.apple.com/xcode/swiftui/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](CONTRIBUTING.md)

**A macOS menu bar app that aggregates your work from Azure DevOps, Microsoft Teams, Outlook, and Gmail into a single, AI-prioritized view with daily briefings and smart notifications.**

[Features](#-features) Â· [Installation](#-installation) Â· [Setup](#-setup) Â· [AI Setup](#-ai-setup) Â· [Contributing](#-contributing)

---

</div>

## The Problem

Your work is scattered across multiple tools:
- **Azure DevOps** â€” work items, bugs, pull requests
- **Microsoft Teams** â€” chats, channel messages, action items
- **Outlook** â€” flagged emails, meeting invites
- **Gmail** â€” starred emails, important threads
- **Local Files** â€” TODOs scattered in markdown files

You forget to check one, miss updates, and waste time context-switching between apps.

## The Solution

**Beacon** lives in your menu bar, always visible. One click shows everything that needs your attention â€” aggregated, AI-prioritized, and actionable. Get intelligent daily briefings, smart desktop notifications, and let AI analyze priority and track progress across all your work.

<div align="center">

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ Beacon                    â–¼      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  ğŸ“Š Today's Briefing                 â”‚
â”‚  "3 critical items need attention.   â”‚
â”‚   PR #892 blocked for 2 days."       â”‚
â”‚                                      â”‚
â”‚  ğŸ”¥ P0 Critical (3)                  â”‚
â”‚  â”œâ”€ Bug #4521: Login failing         â”‚
â”‚  â”œâ”€ PR #892 needs approval           â”‚
â”‚  â””â”€ Teams: Urgent from Sarah         â”‚
â”‚                                      â”‚
â”‚  ğŸ“‹ In Progress (5)                  â”‚
â”‚  â”œâ”€ Task: Update documentation       â”‚
â”‚  â””â”€ + 4 more...                      â”‚
â”‚                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â— All services connected            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</div>

## Features

<table>
<tr>
<td width="50%">

### Unified Task View
All your work items, emails, Teams messages, and tasks in one list, AI-sorted by priority. No more app-hopping.

### AI Priority Analysis
Local LLM analyzes context, deadlines, and relationships to assign P0-P3 priority levels automatically.

### AI Progress Tracking
Smart progress detection from commit messages, PR activity, and work item updates. See what's actually moving.

### Daily AI Briefings
Morning summaries generated by AI highlighting what needs your attention today, stale items, and blocked work.

</td>
<td width="50%">

### Smart Desktop Notifications
Configurable notifications for high-priority items, stale work, and briefing reminders. Non-intrusive alerts.

### Multi-Source Integration
Azure DevOps, Microsoft Teams, Outlook, Gmail, and local markdown files â€” all unified in one view.

### Local File Scanner
Scans your project folders for TODO/FIXME comments and surfaces them alongside cloud tasks.

### Privacy First
All data stays on your Mac. AI runs locally via Ollama. Cloud AI (OpenRouter) is opt-in for briefings only.

</td>
</tr>
</table>

## Roadmap

| Version | Status | Features |
|---------|--------|----------|
| **v1.0** | âœ… Complete | Unified view, Azure DevOps, Outlook, Gmail |
| **v1.1** | âœ… Complete | AI briefings, priority analysis, progress tracking, Teams, notifications, local scanner, graceful degradation |
| **v2.0** | Planned | RAG chat, calendar awareness, Jira/Linear integration, iOS companion |

## Tech Stack

| Component | Technology |
|-----------|------------|
| **UI Framework** | SwiftUI |
| **Platform** | macOS 14+ (Sonoma) |
| **Package Manager** | Swift Package Manager |
| **Auth (Microsoft)** | MSAL |
| **Auth (Google)** | GoogleSignIn SDK |
| **Secure Storage** | KeychainAccess |
| **Shortcuts** | KeyboardShortcuts |
| **Vector Database** | PostgreSQL + pgvector |
| **Cloud LLM** | OpenRouter (Claude, GPT-4) |
| **Local Embeddings** | Ollama (nomic-embed-text) |

## Installation

### Prerequisites

- macOS 14.0 (Sonoma) or later
- Xcode 15+ (for building from source)
- Docker Desktop (for AI features)

### Build from Source

```bash
# Clone the repository
git clone https://github.com/orzazade/beacon.git
cd beacon/Beacon

# Build with Swift Package Manager
swift build -c release

# Run the app
.build/release/Beacon
```

### Create App Bundle (Optional)

```bash
# Use the bundling script
./bundle.sh

# The app will be created at:
# ./Beacon.app
```

## Setup

### 1. Azure DevOps

1. Go to [Azure Portal](https://portal.azure.com) â†’ App registrations
2. Create a new registration with redirect URI: `msauth.com.yourorg.beacon://auth`
3. Add permissions: `Azure DevOps (user_impersonation)`
4. Copy the **Client ID** and **Tenant ID**

### 2. Microsoft Outlook

1. Use the same Azure App Registration
2. Add permissions: `Mail.Read`, `Mail.ReadBasic`
3. Grant admin consent if required

### 3. Microsoft Teams

1. Use the same Azure App Registration
2. Add permissions: `Chat.Read`, `ChannelMessage.Read.All`
3. Grant admin consent if required

### 4. Gmail

1. Go to [Google Cloud Console](https://console.cloud.google.com)
2. Create OAuth credentials (iOS type for macOS)
3. Enable Gmail API
4. Download credentials JSON

### 5. Configure Secrets

Create `Beacon/Config/Secrets.swift`:

```swift
enum Secrets {
    static let azureClientId = "your-azure-client-id"
    static let azureTenantId = "your-azure-tenant-id"
    static let googleClientId = "your-google-client-id"
}
```

> **Note:** This file is gitignored to keep your credentials safe.

## AI Setup

Beacon's AI features require a local PostgreSQL database with pgvector and Ollama for embeddings. Cloud LLM (OpenRouter) is optional but recommended for higher-quality briefings.

### Quick Start with Docker

```bash
cd beacon/Beacon/docker

# Start PostgreSQL + pgvector
docker compose up -d

# Install Ollama (if not installed)
brew install ollama
ollama serve &
ollama pull nomic-embed-text
```

### OpenRouter (Optional)

For cloud-powered AI briefings:

1. Sign up at [OpenRouter](https://openrouter.ai)
2. Create an API key
3. Add to Beacon Settings â†’ AI â†’ OpenRouter API Key

See [docker/README.md](Beacon/docker/README.md) for detailed AI infrastructure setup.

## Project Structure

```
beacon/
â”œâ”€â”€ Beacon/                     # Swift app
â”‚   â”œâ”€â”€ App/                    # App entry point & state
â”‚   â”œâ”€â”€ Auth/                   # OAuth providers
â”‚   â”œâ”€â”€ Config/                 # Configuration & secrets
â”‚   â”œâ”€â”€ Models/                 # Data models
â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”œâ”€â”€ AI/                 # AI manager, embeddings, LLM
â”‚   â”‚   â”œâ”€â”€ AzureDevOps/        # ADO API client
â”‚   â”‚   â”œâ”€â”€ Briefing/           # Daily briefing generation
â”‚   â”‚   â”œâ”€â”€ Chat/               # RAG chat (v2.0 prep)
â”‚   â”‚   â”œâ”€â”€ Database/           # PostgreSQL + pgvector
â”‚   â”‚   â”œâ”€â”€ Gmail/              # Gmail API client
â”‚   â”‚   â”œâ”€â”€ LocalScanner/       # TODO/FIXME file scanner
â”‚   â”‚   â”œâ”€â”€ Notifications/      # Desktop notifications
â”‚   â”‚   â”œâ”€â”€ Outlook/            # Outlook API client
â”‚   â”‚   â”œâ”€â”€ Settings/           # App settings persistence
â”‚   â”‚   â””â”€â”€ Teams/              # Teams API client
â”‚   â”œâ”€â”€ Utilities/              # Helpers & extensions
â”‚   â”œâ”€â”€ ViewModels/             # SwiftUI view models
â”‚   â”œâ”€â”€ Views/
â”‚   â”‚   â”œâ”€â”€ Components/         # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ Settings/           # Settings panels
â”‚   â”‚   â””â”€â”€ Tabs/               # Main tab views
â”‚   â””â”€â”€ docker/                 # AI infrastructure compose
â”œâ”€â”€ Package.swift               # SPM manifest
â””â”€â”€ README.md
```

## Contributing

Contributions are welcome! Whether it's:

- Reporting bugs
- Suggesting features
- Adding new integrations
- Improving documentation

Please read our [Contributing Guide](CONTRIBUTING.md) and [Code of Conduct](CODE_OF_CONDUCT.md).

### Development Setup

```bash
# Clone and open in Xcode
git clone https://github.com/orzazade/beacon.git
cd beacon/Beacon
open Package.swift  # Opens in Xcode
```

## Security

- All credentials stored in macOS Keychain
- Local AI processing via Ollama (embeddings never leave your machine)
- Cloud AI (OpenRouter) is opt-in for briefings only
- OAuth tokens refreshed automatically
- See [Security Policy](SECURITY.md) for vulnerability reporting

## License

This project is licensed under the **MIT License** â€” see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- [MSAL](https://github.com/AzureAD/microsoft-authentication-library-for-objc) â€” Microsoft authentication
- [GoogleSignIn](https://github.com/google/GoogleSignIn-iOS) â€” Google OAuth
- [KeychainAccess](https://github.com/kishikawakatsumi/KeychainAccess) â€” Secure storage
- [KeyboardShortcuts](https://github.com/sindresorhus/KeyboardShortcuts) â€” Global hotkeys
- [PostgresNIO](https://github.com/vapor/postgres-nio) â€” PostgreSQL driver
- [Ollama](https://ollama.ai) â€” Local LLM runtime

---

<div align="center">

**Stay focused. Stay on top of your work.**

One menu bar. AI-powered insights. Everything you need.

<br />

[â¬† Back to Top](#beacon)

</div>
